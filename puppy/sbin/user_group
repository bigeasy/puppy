#!/bin/bash

. /puppy/bin/functions

[ $# -ne 2 ] && abend "Incorrect count of arguments ($#)."

user=$1
group=$2
assert_valid_user $user

uid=$(($user + 10000))

echo $group | /bin/grep '^\(liminal\|protected\)$' > /dev/null || abend "Only liminal and protected groups allowed."

/usr/sbin/usermod -g $group u$uid 2>/dev/null || abend "Cannot modify user."
