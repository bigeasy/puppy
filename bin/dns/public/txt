#!/bin/bash

while getopts ":d::t:" opt; do
    case $opt in
        d)
            domain=$OPTARG
            ;;
        t)
            text=$OPTARG
            ;;
        \?)
            echo "Invalid option: -$OPTARG" >&2
            ;;
    esac
done

/bin/sed -i 's/\(dlv *0 *IN *TXT *"\)\(.*\)\("\)/\1'$text'\3/' \
    /mnt/dns/var/$domain/$domain.zone.base
